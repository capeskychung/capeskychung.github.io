---
layout: article
title: "红黑树"
categories: algorithm
# excerpt:
tags: [R-B Tree, algorithm]
image:
    teaser: /teaser/shell.jpg
date: 2018-04-08T18:04:00+01:00
---

数据结构红黑树,基于二叉搜索树，二叉搜索树可以快速地找到一个给定的关键字的数据项，并且可以快速地插入和删除数据项。二叉搜索树存在一个问题，如果树中插入的是随机数据，则执行的效果很好，但是如果插入的数据是有序或者逆序的数据，二叉搜索树的执行速度会变得很慢。因为当插入数值有序时，二叉树就是非平衡，排在一条线上，变成一个链表，它的快速查找、插入、删除不再具备。

以较快的时间O(logN)来搜索一棵树，需要保证树总是平衡的，树种的每个节点在它左边的后代数目和在它右边的后代数123据应该大致相等。红黑树就是一棵平衡树，对要插入的数据项，插入过程要检查是否破坏树的特征，是则程序需要纠正，改变树的结构，从而保持树的平衡。

####  特征

* 所有节点都有颜色
* 在插入和删除的过程中，要遵循保持这些颜色的不同排列的规则。   



红黑树的主要规则：
1. 每个节点不是红色就是黑色；
2. 根节点总是黑色的；
3. 如果节点是红色的，则它的子节点必须是黑色的（反之不一定）；
4. 从根节点到叶节点或空子节点的每条路径，必须包含相同数目的黑色节点（相同的黑色高度）


在红黑树中插入的节点都是红色的，因为插入一个红色节点比插入一个黑色节点违背红黑原则的可能性更小。原因是：插入黑色节点总会改变黑色高度（规则4），但是插入红色节点只有一半的概率违背规则3.规则3比规则4更容易修正。

#### 修正平衡性
红黑树主要通过三种方式平衡，改变节点颜色、左旋和右旋。  
1. 变色  

改变节点颜色因为违背了规则3.假设现在节点E，然后插入节点A和S，节点A在左子节点，S在右子节点，目前是平衡的。

