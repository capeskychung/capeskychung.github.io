---
layout: article
title: "find命令"
categories: linux
#excerpt:
tags: [find, linux]
image:
    teaser: /teaser/shell.jpg
date: 2018-03-20T11:04:00+01:00
---

文件查找指令

##  find
---
在目录结构下搜索文件，并指定执行操作。find命令用于在一个目录()/及子目录中搜索文件。可以指定一些匹配条件，如按文件名、文件类型、用户甚至时间戳查找文件。
man文档给出的find命令的一般形式为：
find [-H][-L][-P][-D debugopts][-O level] [path...] [expression]   

-H: find遇到的每个符号链接求值得文件信息和文件类型就是该链接所引用的信息和类型，而不是链接本身。如果所引用文件不存在，那么会将文件信息和类型用于该链接本身。不在命令行上的所有符号链接的文件信息是链接本身的文件信息。  
-L: 符号链接求值的文件信息和文件类型就是该链接所引用文件的信息和类型，而不是该链接本身。

##### 选项  
---
- -amin<分钟>：查找在指定时间曾被存取过的文件或目录，单位以分钟计算
- -anewer<参考文件或目录>：查找其存取时间较指定文件或目录的存取时间更接近现在的文件或目录；
- -atime<24小时数>：查找在指定时间曾被存取过的文件或目录，单位以24小时计算
- -cmin<分钟>：查找在指定时间之时被更改过的文件或目录；  
- -cnewer<参考文件或目录>查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；  
- -ctime<24小时数>：查找在指定时间之时被更改的文件或目录，单位以24小时计算；  
- -daystart：从本日开始计算时间；  
- -depth：从指定目录下最深层的子目录开始查找；  
- -expty：寻找文件大小为0   Byte的文件，或目录下没有任何子目录或文件的空目录；  
- -exec<执行指令>：假设find指令的回传值为True，就执行该指令；  
- -false：将find指令的回传值皆设为False；  
- -fls<列表文件>：此参数的效果和指定“-ls”参数类似，但会把结果保存为指定的列表文件；  
- -follow：排除符号连接；   
- -fprint<列表文件>：此参数的效果和指定“-print”参数类似，但会把结果保存成指定的列表文件；   
- -fprint0<列表文件>：此参数的效果和指定“-print0”参数类似，但会把结果保存成指定的列表文件；  
- -fprintf<列表文件><输出格式>：此参数的效果和指定“-printf”参数类似，但会把结果保存成指定的列表文件；  
- -fstype<文件系统类型>：只寻找该文件系统类型下的文件或目录；  
- -gid<群组识别码>：查找符合指定之群组识别码的文件或目录；  
- -group<群组名称>：查找符合指定之群组名称的文件或目录；  
- -help或——help：在线帮助；  
- -ilname<范本样式>：此参数的效果和指定“-lname”参数类似，但忽略字符大小写的差别；  
- -iname<范本样式>：此参数的效果和指定“-name”参数类似，但忽略字符大小写的差别；  
- -inum<inode编号>：查找符合指定的inode编号的文件或目录；  
- -ipath<范本样式>：此参数的效果和指定“-path”参数类似，但忽略字符大小写的差别；  
- -iregex<范本样式>：此参数的效果和指定“-regexe”参数类似，但忽略字符大小写的差别；  
- -links<连接数目>：查找符合指定的硬连接数目的文件或目录；  
- -iname<范本样式>：指定字符串作为寻找符号连接的范本样式；  
- -ls：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出；  
- -maxdepth<目录层级>：设置最大目录层级；  
- -mindepth<目录层级>：设置最小目录层级；  
- -mmin<分钟>：查找在指定时间曾被更改过的文件或目录，单位以分钟计算；  
- -mount：此参数的效果和指定“-xdev”相同；  
- -mtime<24小时数>：查找在指定时间曾被更改过的文件或目录，单位以24小时计算；  
- -name<范本样式>：指定字符串作为寻找文件或目录的范本样式；  
- -newer<参考文件或目录>：查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；  
- -nogroup：找出不属于本地主机群组识别码的文件或目录；  
- -noleaf：不去考虑目录至少需拥有两个硬连接存在；  
- -nouser：找出不属于本地主机用户识别码的文件或目录；  
- -ok<执行指令>：此参数的效果和指定“-exec”类似，但在执行指令之前会先询问用户，若回答“y”或“Y”，则放弃执行命令；  
- -path<范本样式>：指定字符串作为寻找目录的范本样式；  
- -perm<权限数值>：查找符合指定的权限数值的文件或目录；  
- -print：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为每列一个名称，每个名称前皆有“./”字符串；  
- -print0：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为全部的名称皆在同一行；  
- -printf<输出格式>：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式可以自行指定；  
- -prune：不寻找字符串作为寻找文件或目录的范本样式;  
- -regex<范本样式>：指定字符串作为寻找文件或目录的范本样式；  
- -size<文件大小>：查找符合指定的文件大小的文件；  
- -true：将find指令的回传值皆设为True；  
- -type<文件类型>：只寻找符合指定的文件类型的文件；  
- -uid<用户识别码>：查找符合指定的用户识别码的文件或目录；  
- -used<日数>：查找文件或目录被更改之后在指定时间曾被存取过的文件或目录，单位以日计算；  
- -user<拥有者名称>：查找符和指定的拥有者名称的文件或目录；  
- -version或——version：显示版本信息；  
- -xdev：将范围局限在先行的文件系统中；  
- -xtype<文件类型>：此参数的效果和指定“-type”参数类似，差别在于它针对符号连接检查。  


##### 特殊用法  
可以用来删除文件 find . -name '*pyc' -delete  

+表示大于某个值， -表示小于某个值  

参考： http://man.linuxde.net/find

## locate
locate是find -name的另外一种写法，运行要快于后者。因为locate不搜索具体目录，只搜索数据库/var/lib/locatedb,这个数据库含有本地所有文件的信息。linux系统会自动创建这个数据库，并且每天自动更新一次，所以locate命令查找不到最修改变动的文件。可以通过updatedb的命令更新收据库


#### 选项  
-d 目录或者--datebase=<目录>；指定数据库所在的目录   
-u 更新slocate数据库 


## whereis
whereis命令只能用于程序名的搜索，而且只搜索二进制文件（参数-b）、man说明文件（参数-m）和源代码文件（参数-s）。如果省略参数，则返回所有信息



## which
which命令的作用是，在PATH变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。也就是说，使用which命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。



## type
type命令其实不能算查找命令，它是用来区分某个命令到底是由shell自带的，还是由shell外部的独立二进制文件提供的。如果一个命令是外部命令，那么使用-p参数，会显示该命令的路径，相当于which命令。
